<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .table-box {
        fill: #f8f9fa;
        stroke: #343a40;
        stroke-width: 2;
        rx: 8;
      }
      .table-title {
        font-family: 'Arial', sans-serif;
        font-size: 16px;
        font-weight: bold;
        fill: #343a40;
        text-anchor: middle;
      }
      .table-subtitle {
        font-family: 'Arial', sans-serif;
        font-size: 12px;
        fill: #6c757d;
        text-anchor: middle;
      }
      .arrow {
        stroke: #007bff;
        stroke-width: 2;
        fill: none;
        marker-end: url(#arrowhead);
      }
      .section-title {
        font-family: 'Arial', sans-serif;
        font-size: 18px;
        font-weight: bold;
        fill: #495057;
        text-anchor: middle;
      }
      .service-box {
        fill: #e3f2fd;
        stroke: #1976d2;
        stroke-width: 2;
        rx: 8;
      }
      .api-box {
        fill: #fff3e0;
        stroke: #f57c00;
        stroke-width: 2;
        rx: 8;
      }
      .param-box {
        fill: #f3e5f5;
        stroke: #7b1fa2;
        stroke-width: 2;
        rx: 8;
      }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#007bff" />
    </marker>
  </defs>
  
  <!-- 背景 -->
  <rect width="800" height="600" fill="#ffffff"/>
  
  <!-- 标题 -->
  <text x="400" y="30" class="section-title">Service 版本存储关系图</text>
  
  <!-- 最新版本部分 -->
  <text x="200" y="70" class="section-title" style="font-size: 16px; fill: #1976d2;">最新版本存储</text>
  
  <!-- Service 表 -->
  <rect x="120" y="90" width="160" height="60" class="service-box"/>
  <text x="200" y="115" class="table-title">Service</text>
  <text x="200" y="135" class="table-subtitle">服务最新版本</text>
  
  <!-- Api 表 -->
  <rect x="120" y="200" width="160" height="60" class="api-box"/>
  <text x="200" y="225" class="table-title">Api</text>
  <text x="200" y="245" class="table-subtitle">API 定义</text>
  
  <!-- RequestParam 表 -->
  <rect x="50" y="320" width="120" height="60" class="param-box"/>
  <text x="110" y="345" class="table-title">RequestParam</text>
  <text x="110" y="365" class="table-subtitle">请求参数</text>
  
  <!-- ResponseParam 表 -->
  <rect x="230" y="320" width="120" height="60" class="param-box"/>
  <text x="290" y="345" class="table-title">ResponseParam</text>
  <text x="290" y="365" class="table-subtitle">响应参数</text>
  
  <!-- 历史版本部分 -->
  <text x="600" y="70" class="section-title" style="font-size: 16px; fill: #f57c00;">历史版本存储</text>
  
  <!-- ServiceIteration 表 -->
  <rect x="520" y="90" width="160" height="60" class="service-box"/>
  <text x="600" y="115" class="table-title">ServiceIteration</text>
  <text x="600" y="135" class="table-subtitle">服务迭代版本</text>
  
  <!-- ApiDraft 表 -->
  <rect x="520" y="200" width="160" height="60" class="api-box"/>
  <text x="600" y="225" class="table-title">ApiDraft</text>
  <text x="600" y="245" class="table-subtitle">API 草稿</text>
  
  <!-- RequestParamDraft 表 -->
  <rect x="450" y="320" width="140" height="60" class="param-box"/>
  <text x="520" y="345" class="table-title">RequestParamDraft</text>
  <text x="520" y="365" class="table-subtitle">请求参数草稿</text>
  
  <!-- ResponseParamDraft 表 -->
  <rect x="630" y="320" width="140" height="60" class="param-box"/>
  <text x="700" y="345" class="table-title">ResponseParamDraft</text>
  <text x="700" y="365" class="table-subtitle">响应参数草稿</text>
  
  <!-- 连接线 - 最新版本 -->
  <!-- Service -> Api -->
  <line x1="200" y1="150" x2="200" y2="200" class="arrow"/>
  
  <!-- Api -> RequestParam -->
  <line x1="170" y1="260" x2="130" y2="320" class="arrow"/>
  
  <!-- Api -> ResponseParam -->
  <line x1="230" y1="260" x2="270" y2="320" class="arrow"/>
  
  <!-- 连接线 - 历史版本 -->
  <!-- ServiceIteration -> ApiDraft -->
  <line x1="600" y1="150" x2="600" y2="200" class="arrow"/>
  
  <!-- ApiDraft -> RequestParamDraft -->
  <line x1="570" y1="260" x2="530" y2="320" class="arrow"/>
  
  <!-- ApiDraft -> ResponseParamDraft -->
  <line x1="630" y1="260" x2="670" y2="320" class="arrow"/>
  
  <!-- 说明文字 -->
  <text x="400" y="450" class="table-subtitle" style="text-anchor: middle; font-size: 14px;">
    左侧：Service 最新版本存储结构
  </text>
  <text x="400" y="470" class="table-subtitle" style="text-anchor: middle; font-size: 14px;">
    右侧：Service 历史版本存储结构（迭代过程中的草稿）
  </text>
  
  <!-- 图例 -->
  <rect x="50" y="500" width="700" height="80" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="5"/>
  <text x="400" y="520" class="table-title" style="font-size: 14px;">图例说明</text>
  
  <rect x="80" y="530" width="15" height="15" class="service-box"/>
  <text x="105" y="542" class="table-subtitle">服务表</text>
  
  <rect x="200" y="530" width="15" height="15" class="api-box"/>
  <text x="225" y="542" class="table-subtitle">API表</text>
  
  <rect x="320" y="530" width="15" height="15" class="param-box"/>
  <text x="345" y="542" class="table-subtitle">参数表</text>
  
  <line x1="450" y1="537" x2="480" y2="537" class="arrow"/>
  <text x="490" y="542" class="table-subtitle">关联关系</text>
</svg>